= Setting up draw.io
:description: How to set up drawio for ASAM projects.
:keywords: task,fragment,setup,drawio, drawio-setup
:library-repo: https://code.asam.net/common/asam-graphic-library/

include::partial$_attributes.adoc[]
include::compendium:partial$abbreviations.adoc[]

{drawio-icon}


== Context
ASAM uses Draw.io for creating custom diagrams for standards and documentation.
The user can choose to use the {drawio-url}[**web access**] (**recommended**) or install the software locally.
ASAM provides a custom Draw.io library which contains custom standard image elements and visualization structures that can be reused in new diagrams.
To be able to access the ASAM asset library, follow the instructions below.

== Result
The user can access Draw.io with the ASAM library connected to create and edit diagrams.

== Prerequisites
* Local Setup ({vscode}): xref:vscode.adoc[] is installed

== How
Draw.io can be used either locally (through the dedicated app <<Draw.io App (Desktop),Draw.io Deskop>> or through the <<VSCode Extension,VS Code Extension>>) or with the <<Remote Setup, web app>>.

=== Local setup

==== Draw.io App (Desktop)

. Download the app from {drawio-download}[here^].
. Check out the {library-repo}[asset library repository^]
. Open the draw.io app and either create a new diagram or open any existing one
. Click _File_ -> _Open Library..._
. Select the xml file from the asset library repository (local) and click _Open_.

image::drawio-import-library.gif[title=Import ASAM Draw.io library into Desktop.]

include::compendium:partial$vscode/drawio.adoc[]

NOTE: At this time, the VS Code extension does not provide url links to libraries.
The only option to add the library is to download a copy and add it manually.

. Install the drawio extensions in {vscode}
. Check out the {library-repo}[asset library repository^]
. In Visual Studio Code, access the extension settings for Draw.io Integration and open the settings.json file
. Below the line with `"hediet.vscode-drawio.local-storage"`, add the following lines and replace `\<<filepath/filename>>` with the path to the downloaded library file (.xml):
+
[source,json]
----
    "hediet.vscode-drawio.customLibraries": [
        {
            "libName": "ASAM Standard Library",
            "file": "<<filepath/filename>>",
            "entryId": "ASAM"
        }
    ],
----
+
NOTE: Remove the comma after the last braket ("]") if there is no other line before the closing curly bracket ("}").


image::drawio-import-library-vscode.gif[title=Import ASAM Draw.io library into VSCode extension.]

=== Remote setup

The use of Draw.io through the web browser does not require any setup.
Just use the provided {drawio-url}[link^].
